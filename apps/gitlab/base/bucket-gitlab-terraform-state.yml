apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: gitlab-terraform-state
spec:
  bucketName: gitlab-terraform-state
  storageClassName: ceph-bucket
  additionalConfig:
    maxObjects: "1000000"
    maxSize: "10G"
    bucketPolicy: |
      {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "Statement1",
            "Effect": "Allow",
            "Principal": {
              "AWS": [
                "arn:aws:iam:::user/gitlab-ceph-user"
              ]
            },
            "Action": "s3:*",
            "Resource": "*"
          }
        ]
      }
